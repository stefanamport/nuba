<div class="searchbar">
  <div class="middler">

    <div class="searchbar__inner">
      
      <form class="searchbar__form" (ngSubmit)="addToJournal(searchForm.value)"  #searchForm="ngForm" [ngClass]="{'searchbar__form-noSelection': selectedFood===null }">
        
        <div class="loading-placeholder searchbar__loading" *ngIf="foodList?.length == 0">
          Wir laden deine Nahrungsmittel...
        </div>

        <div class="searchbar__food" *ngIf="foodList?.length > 0">
          <input #food type="text" autocomplete="off" placeholder="Was hast du gegessen?" value="{{selectedFood?.name}}" (keyup)="updateFilter(food.value)">
        </div>
        <div class="searchbar__quantity searchbar__fieldgroup">
          <input type="number" [(ngModel)]="selectedQuantity" id="quantity" name="quantity" >
          <label for="food" class="foodLabel">{{selectedFood?.matrix_unit}}</label>
        </div>
        <div class="searchbar__submit searchbar__fieldgroup">
           <button type="submit" id="saveFood" class="searchbar__submitbutton" [disabled]="selectedFood===null" ><span class="fa fa-check" aria-hidden="true"></span></button>
        </div>
  
      </form>

      <!-- *ngIf="(foodList | searchFilter: searchFilterString).length == 0" -->

      <ul class="searchbar__results searchbar__fieldgroup resultlist">
         <li *ngFor="let result of foodList | searchFilter: searchFilterString:foodShortlist" (click)="addToForm(result.$key)" class="resultlist__entry">{{result.name}}</li>
      </ul>

    </div>

  </div>
</div>
